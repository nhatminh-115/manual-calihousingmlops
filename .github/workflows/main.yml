name: MLOps CI/CD Pipeline

on: 
  push:
    branches:
      - main
    paths-ignore:
      - 'REAME.md'
      - '.github/workflows/**' 
      - 'docs/**'              
      - '.gitignore'
      - '.dockerignore'

jobs:
  Continuous-Integration:
   runs-on: ubuntu-latest
   steps:
     - name: 1. Check out code
       uses: actions/checkout@v3
     - name: 2. Setup python 3.11
       uses: actions/setup-python@v4
       with:
         python-version: '3.11'
     - name: 3. Install Dependencies
       run: |
         pip install -r requirements.txt
         pip install pytest
     - name: 4. Run Pytest
       env:
         SUPABASE_URL: "https://mock-url.supabase.co"
         SUPABASE_KEY: "mock-key"
         MLFLOW_TRACKING_URI: "https://mock-uri"
       run: |
         pytest test_pipeline.py -v
